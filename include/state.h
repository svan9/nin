#pragma once

#include "config.hpp"
#include "stack.h"

namespace nin {

class State {
private:
	Stack st;
public:
	////////////////////////////////////////////////////////////
	State();

	////////////////////////////////////////////////////////////
	template<typename T>
	void push(T&& val);

	////////////////////////////////////////////////////////////
	///@brief
	///@param idx can be negative for use index from top (starts with 1 & -1)
	template<typename T> 
	T at(int idx);

	////////////////////////////////////////////////////////////
	void pop(size_t count = 1);
	
	////////////////////////////////////////////////////////////
	void call();

	////////////////////////////////////////////////////////////
	void find(const char* name);
};


}